<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아이디 찾기 결과</title>
    <link rel="stylesheet" href="../css/id-passwrod.css"> <!-- 스타일시트 링크, 필요시 수정 -->
    <style>

    </style>
</head>
<body>
    <div class="result-container">
        <p class="password-reset">비밀번호를 잊으셨나요?</p>
        <p class="reset-instruction">아래 버튼을 클릭하면 비밀번호를 재설정할 수 있습니다.</p>
        <div class="result-btn">
            아이디: <strong id="userId"></strong>
        </div>
        <p class="account-not-found">계정이 안보이나요?</p>
        <p class="google-account-info">구글 로그인을 이용한 계정일 수 있습니다. 해당 계정으로 다시 시도해 보세요.</p>
        <button class="login-btn" onclick="goToLogin()">로그인 하러가기</button>
    </div>

    <script>
        // 로그인 하러가기 버튼 동작 함수
        function goToLogin() {
            window.location.href = '/LastProjectBack/Front/Login/login.html'; // 로그인 페이지로 이동
        }

        // find_id-result.html에서 세션에 저장된 userId를 사용하여 표시
        fetch('http://localhost:3000/api/getUserId', {
            method: 'GET',
            credentials: 'same-origin'  // 세션 쿠키를 함께 전송
        })
        .then(response => response.json())
        .then(data => {
            if (data.userId) {
                // 서버에서 받은 userId를 화면에 표시
                document.getElementById('userId').textContent = data.userId;
            } else {
                // 유효하지 않은 세션인 경우
                alert('세션이 만료되었습니다.');
            }
        })
        .catch(error => {
            alert('서버 오류가 발생했습니다.');
        });
    </script>
</body>
</html>
