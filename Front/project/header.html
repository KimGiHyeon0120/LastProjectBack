<head>
    <link rel="stylesheet" href="../css/header.css">
    <script src="/proj/assets/lib/jquery-3.7.1.min.js"></script>
</head>

<body>
    <!-- 헤더 -->
    <header>
        <div class="header_part">
            <!-- 햄버거 메뉴 -->
            <div class="hamburger" onclick="openNav()">☰</div>

            <!-- 로고 -->
            <div class="logo-container">
                <img src="../img/logo.png" alt="Plan It 로고">
            </div>

            <!-- 네비게이션 링크 -->
            <div class="nav-right">
                <a href="#">내 작업</a>
                <a href="#" onclick="redirectToProjectList()">프로젝트</a>
                <a href="#">설정</a>
                <a id="login-logout-btn" href="#">로그인</a>
            </div>
        </div>
    </header>

    <!-- 사이드바 -->
    <div id="mySidebar" class="sidebar2">
        <!-- 닫기 버튼 -->
        <a class="closebtn" onclick="closeNav()">←</a>
        <h3>내 칸반 프로젝트</h3>
        <a href="/Front/project/summary.html">요약</a>
        <a href="/Front/project/timeline.html">타임라인</a>
        <a href="/Front/project/board_main.html">보드</a>
        <a href="/Front/project/list.html">목록</a>
        <a href="/Front/project/goals.html">목표</a>
        <a href="/Front/project/add_view.html">보기 추가</a>
    </div>

    <script>
        function redirectToProjectList() {
            window.location.href = '../project/projectList.html';
        }
        // 사이드바 열기
        function openNav() {
            document.getElementById("mySidebar").style.left = "0";
        }

        // 사이드바 닫기
        function closeNav() {
            document.getElementById("mySidebar").style.left = "-250px";
        }

        // 로그인 상태 확인 및 버튼 업데이트
        $(document).ready(function () {
            const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

            if (loggedInUser) {
                // 로그인된 상태라면 "로그아웃" 버튼으로 변경
                $("#login-logout-btn").text("로그아웃").attr("href", "#").on("click", function () {
                    // 로그아웃 동작
                    localStorage.removeItem("loggedInUser"); // localStorage에서 로그인 정보 제거
                    window.location.href = "../Login/login.html"; // 로그인 페이지로 리다이렉트
                });
            } else {
                // 로그인되지 않은 상태라면 "로그인" 버튼
                $("#login-logout-btn").text("로그인").attr("href", "../Login/login.html");
            }
        });
    </script>
</body>